<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>reactjs.org 튜토리얼 | 주경야독학) 개발공부로그</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="reactjs.org 튜토리얼" />
<meta name="author" content="Sunmi Moon" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="  뽀모도리 등 운동 가슴 운동 1일(달성/목표) 12/16+5 5/5 5/5 1주(달성/목표) 37/40    " />
<meta property="og:description" content="  뽀모도리 등 운동 가슴 운동 1일(달성/목표) 12/16+5 5/5 5/5 1주(달성/목표) 37/40    " />
<link rel="canonical" href="http://localhost:4000/2022-10-01/reactjs.org" />
<meta property="og:url" content="http://localhost:4000/2022-10-01/reactjs.org" />
<meta property="og:site_name" content="주경야독학) 개발공부로그" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-10-01T12:18:07+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="reactjs.org 튜토리얼" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Sunmi Moon","url":"https://moonsunmi.github.io"},"dateModified":"2022-10-01T12:18:07+09:00","datePublished":"2022-10-01T12:18:07+09:00","description":"  뽀모도리 등 운동 가슴 운동 1일(달성/목표) 12/16+5 5/5 5/5 1주(달성/목표) 37/40    ","headline":"reactjs.org 튜토리얼","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2022-10-01/reactjs.org"},"url":"http://localhost:4000/2022-10-01/reactjs.org"}</script>
<!-- End Jekyll SEO tag -->


  <!-- CSS -->
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700">

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">

  <!-- RSS -->
  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="주경야독학) 개발공부로그" />

  <!-- Google Analytics-->
  
</head>


  <body>

    <nav class="nav">
  <div class="nav-container">
    <a href="/">
      <h2 class="nav-title">주경야독학) 개발공부로그</h2>
    </a>
    <ul>
      <li><a href="/">Posts</a></li>
      <li><a href="/tags">Tags</a></li>
      <li><a href="/about">About</a></li>
    </ul>
  </div>
</nav>


    <main>
      <div class="post">
  <div class="post-info">
    <span>Written by</span>
    
        Sunmi Moon
    

    
      <br>
      <span>on&nbsp;</span><time datetime="2022-10-01 12:18:07 +0900">October 01, 2022</time>
    
  </div>

  <h1 class="post-title">reactjs.org 튜토리얼</h1>
  <div class="post-line"></div>

  <table>
  <thead>
    <tr>
      <th> </th>
      <th>뽀모도리</th>
      <th>등 운동</th>
      <th>가슴 운동</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1일<br />(달성/목표)</td>
      <td>12/16+5</td>
      <td>5/5</td>
      <td>5/5</td>
    </tr>
    <tr>
      <td>1주<br />(달성/목표)</td>
      <td>37/40</td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="w3school의-javascript">w3school의 javascript</h2>
<p>Exercise 문제 풀면서 복습해 봄.</p>

<h2 id="reactjsorg">reactjs.org</h2>

<p>리액트는 자바스크립트 라이브러리로, ‘컴포넌트’라고 불리는 코드 파편을 이용해서 UI를 구성한다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">ShoppingList</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">component</span><span class="p">{</span>
    <span class="nx">render</span><span class="p">(){</span>
        <span class="k">return</span><span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">shopping-List</span><span class="dl">"</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">shopping</span> <span class="nx">List</span> <span class="k">for</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Instagram</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>                    <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">What</span><span class="dl">'</span><span class="s1">s app&lt;/li&gt;
                    &lt;li&gt;Oculus&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
        );
    }
}
</span></code></pre></div></div>
<p>리액트에는 여러 컴포넌트가 있지만, 여기서는 React.component를 사용한다. 여기에서 <code class="language-plaintext highlighter-rouge">ShoppingList</code>는 리액트 컴포넌트 클래스(타입)이다. <code class="language-plaintext highlighter-rouge">prop</code>라는 프로퍼티를 받아서 처리한 후 <code class="language-plaintext highlighter-rouge">render</code> 함수를 통해 뷰 계층 구조를 전달한다.</p>

<p><code class="language-plaintext highlighter-rouge">render()</code> 함수는 보고자 하는 화면 내용을 전달한다. 전달을 위해서 리액트는 render의 리턴값을 경량화된 React 엘리먼트로 전환한다.</p>

<p>위에서 <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> 구문은 다음과 같이 전환된다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">return</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span><span class="na">className</span><span class="p">:</span><span class="dl">'</span><span class="s1">shopping-list</span><span class="dl">'</span><span class="p">},</span>
  <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">h1</span><span class="dl">'</span><span class="p">,</span> <span class="p">...),</span>
  <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">ul</span><span class="dl">'</span><span class="p">,</span> <span class="p">...)</span>
<span class="p">);</span>
</code></pre></div></div>

<p>JSX의 중괄호 안에는 어떤 자바스크립트 코드도 쓸 수 있다. 리액트 엘리먼트는 자바스크립트 객체의 일종이다. 리액트 컴포넌트는 독립, 캡슐화되어 있다.</p>

<h2 id="tic-tac-toa-만들기">Tic-Tac-Toa 만들기</h2>

<h3 id="초기에-설정되어-있는-리액트-컴포넌트">초기에 설정되어 있는 리액트 컴포넌트</h3>

<ul>
  <li>Square: 보드판에 안에 있는 작은 칸 하나하나</li>
  <li>Board: Square 9개를 구성하는 보드판 하나</li>
  <li>Game: 보드판을 렌더링한다.</li>
</ul>

<p>부모인 Board 컴포넌트에서 자식인 Square 컴포넌트로 프로퍼티를 이용해 정보를 전달하자. 리액트에서 정보가 흘러가는 방식이다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Square</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">square</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Board</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">renderSquare</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Square</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">i</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>square 한 칸 클릭했을 때 인식하고 log 남기기.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Square</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
<span class="p">...</span>
    <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">square</span><span class="dl">"</span> <span class="nx">onclick</span><span class="o">=</span><span class="p">{</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">);</span> <span class="p">}}</span><span class="o">&gt;</span>
</code></pre></div></div>

<blockquote>
  <p>arrow function</p>

  <p><code class="language-plaintext highlighter-rouge">function(){ ... }</code>를 줄여서 쓰기 위해서 화살표 함수(<code class="language-plaintext highlighter-rouge">() =&gt; </code>)를 이용한다.</p>

  <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Square</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
<span class="p">...</span>
    <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">square</span><span class="dl">"</span> <span class="nx">onclick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">);}</span><span class="o">&gt;</span>
</code></pre></div>  </div>
</blockquote>

<p>그다음 단계는 클릭된 square가 자기가 클린된 상태라는 걸 기억해서 X라고 표시하는 것이다. 뭔가를 ‘저장을 할 때’ <code class="language-plaintext highlighter-rouge">constructor</code> 안에서 <code class="language-plaintext highlighter-rouge">state</code>를 사용한다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Square</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Componenet</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">){</span>
        <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">value</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="p">};</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>하위 클래스의 <code class="language-plaintext highlighter-rouge">constructor</code>를 선언할 때는 늘 <code class="language-plaintext highlighter-rouge">super</code>를 호출해 줘야 한다. 세트로 나온다고 생각.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">){</span>
        <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="클릭한-박스에-x-표시하기">클릭한 박스에 X 표시하기</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Square</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">){</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">value</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="p">};</span>
  <span class="p">}</span>
  
  <span class="nx">render</span><span class="p">(){</span>
    <span class="k">return</span><span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">button</span>
        <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">square</span><span class="dl">"</span> 
        <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">X</span><span class="dl">'</span><span class="p">})}</span>
      <span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Square</code> 클래스의 <code class="language-plaintext highlighter-rouge">render</code> 메서드에 있는 <code class="language-plaintext highlighter-rouge">onClick</code> 핸들러 덕분에 클릭할 때마다 <code class="language-plaintext highlighter-rouge">this.setState</code>가 호출된다.<br />
<code class="language-plaintext highlighter-rouge">setState</code>는 값이 변할 때마다 그 안에 있는 자식 컴포넌트(여기에서는 <code class="language-plaintext highlighter-rouge">this.state.value</code>)를 자동으로 업데이트된다.</p>

<h3 id="sqaure의-상태-한곳에서-저장하기">Sqaure의 상태 한곳에서 저장하기</h3>

<p><code class="language-plaintext highlighter-rouge">Square</code>의 상태를 각각의 <code class="language-plaintext highlighter-rouge">Square</code> 자체에서 저장하고 있으면 되지 않나 생각할 수 있지만, 비효율적이다. 부모인 <code class="language-plaintext highlighter-rouge">Board</code> 컴포넌트가 가지고 있는 게 좋다.</p>

<p>자식 컴포넌트들의 값을 모아두거나, 컴포넌트끼리 정보를 전달하기 위해서 부모 컴포넌트는 공유할 state를 저장해 둔다. 그리고 프로퍼티를 이용해서 정보를 전달한다.</p>

<p>부모 컴포넌트인 <code class="language-plaintext highlighter-rouge">Board</code>에 다음과 같이 자식(<code class="language-plaintext highlighter-rouge">squares</code>) 컴포넌트 값을 모아 둔다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Board</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">squares</span><span class="p">:</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">9</span><span class="p">).</span><span class="nx">fill</span><span class="p">(</span><span class="kc">null</span><span class="p">),</span>
    <span class="p">};</span>
  <span class="p">}</span>
<span class="p">...</span>
<span class="p">}</span>

</code></pre></div></div>

<ul>
  <li>틱택토 상자 안에 있는 숫자(1, 2, 3 …, 9)는 부모인 <code class="language-plaintext highlighter-rouge">Board</code> 컴포넌트에서 전달 받았고, 클릭되었을 때 “X” 표시는 <code class="language-plaintext highlighter-rouge">Square</code> 자체에서 처리하였다.</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">Board</code> 컴포넌트에서 <code class="language-plaintext highlighter-rouge">Square</code> 값을 저장해 두었기 때문에 <code class="language-plaintext highlighter-rouge">renderSquare</code>는 다음과 같이 수정한다.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">renderSquare</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Square</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">]}</span><span class="sr">/&gt;;</span><span class="err"> 
</span><span class="p">}</span>
</code></pre></div></div>

<h4 id="square가-클릭되었을-때-상태-바꾸기">square가 클릭되었을 때 상태 바꾸기</h4>

<p>state는 컴포넌트 안에서 private하게 운영되므로, Square를 바꿔서 Board를 직접 업데이트할 수는 없다.</p>

<p>Board의 renderState를 다음과 같이 수정.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">renderSquare</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">Square</span>
           <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">]},</span>
           <span class="nx">onclick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">(</span><span class="nx">i</span><span class="p">)}</span>
          <span class="sr">/</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Square에서 더 이상 state를 쓰지 않으므로 state는 constructor를 지우고, 부모 Board에게 받은 값을 이용하도록 <code class="language-plaintext highlighter-rouge">this.state. ...</code>을 <code class="language-plaintext highlighter-rouge">this.prop. ...</code>으로 수정한다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Square</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">button</span>
        <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">square</span><span class="dl">"</span>
        <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">.</span><span class="nx">onClick</span><span class="p">()}</span>
      <span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">prop</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>이러면 이제, square가 클릭되면 Board에 있는 onclick 함수가 호출된다.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">onClick</code>은 DOM에 내장되어 있는 프로퍼티이다. square에 있는 button이 눌리면, button은 리액트한테 click 이벤트 리스트너를 세팅하라고 한다.</li>
  <li>버튼이 눌리면, <code class="language-plaintext highlighter-rouge">Square</code>의 <code class="language-plaintext highlighter-rouge">render</code> 함수에 있는 <code class="language-plaintext highlighter-rouge">onClick</code> 핸들러가 호출된다.</li>
  <li>이벤트 핸들러는 <code class="language-plaintext highlighter-rouge">this.prop.onClick()</code>을 호출하고, Square의 <code class="language-plaintext highlighter-rouge">onClick</code>은 Board에 의해서 값이 특정된다.</li>
  <li>Board가 Square에게 <code class="language-plaintext highlighter-rouge">onclick={() =&gt; this.handleClick(i)}</code>을 전달했으니, Square가 Board의 <code class="language-plaintext highlighter-rouge">handleClick(i)</code>를 호출한다.</li>
  <li>아직 <code class="language-plaintext highlighter-rouge">handleClick</code>을 정의하지 않아 오류가 난다.</li>
</ol>

<blockquote>
  <p>Button에서의 onClick과 Board, Square에서의 onClick</p>

  <p><code class="language-plaintext highlighter-rouge">&lt;Button&gt;</code> 엘리먼트에서의 <code class="language-plaintext highlighter-rouge">onClick</code> 속성은 내장된 컴포넌트이다. 그런데 Board, Square처럼 우리가 만든 컴포넌트에서의 onClick은 아무렇게나 이름을 붙일 수 있긴 하다.
그렇지만 관습적으로, 프로퍼티 이름은 <code class="language-plaintext highlighter-rouge">on[Event]</code>, 그 이벤트를 다루는 메서드는 <code class="language-plaintext highlighter-rouge">handle[Event]</code>로 이름 붙인다.</p>
</blockquote>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Board</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">handleClick</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
    <span class="kd">const</span> <span class="nx">squares</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
    <span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">X</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="na">squares</span><span class="p">:</span> <span class="nx">squares</span><span class="p">});</span>
  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>지금까지의 수정으로 결과물이 달라진 건 없지만, 원래 Square에서 저장해 두었던 <code class="language-plaintext highlighter-rouge">this.state</code>를 Board로 옮겼다. Board에 업데이트가 생기면 Square가 자동으로 다시 렌더링된다.</p>

<p>Square 컴포넌트는 더 이상 컨트롤하는 게 없고, Board가 모든 걸 지휘한다.</p>

<p><code class="language-plaintext highlighter-rouge">this.state.squres.slice()</code>를 이용해서 <code class="language-plaintext highlighter-rouge">this.state.squares</code> 배열의 복사본을 사용했다. 원본 배열은 건드리지 않음.</p>

<h2 id="불변immutability이-중요한-이유">불변(Immutability)이 중요한 이유</h2>

<p>데이터를 변경할 때 접근법이 두 가지가 있다.</p>

<ol>
  <li>원본 데이터를 직접 수정하는 것</li>
  <li>데이터의 복사본을 만들어서 수정한 후 복사본으로 대체하는 것</li>
</ol>

<p>2번으로 하는 게, 심플하고, 오류를 잡기도 쉽고, 여러모로 좋다.</p>

<h2 id="function-component">Function Component</h2>

<p>Square는 이제 state가 없이 render 메서드만 가지고 있으니, function component로 바꾸자. <code class="language-plaintext highlighter-rouge">React.Component</code>를 extends할 필요도 없고, 그냥 프로퍼티만 받아서 심플하게 작성할 수 있다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Square</span><span class="p">(</span><span class="nx">prop</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">square</span><span class="dl">"</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">prop</span><span class="p">.</span><span class="nx">onClick</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">prop</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="o-x-교대로-나오게-하기">O X 교대로 나오게 하기</h3>

<p>Board state에다가 xIsNext라는 boolean 값을 만들고, 교대로 바꿔 준다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">handleClick</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
  <span class="kd">const</span> <span class="nx">squares</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
  <span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">xIsNext</span><span class="p">?</span> <span class="dl">'</span><span class="s1">X</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">O</span><span class="dl">'</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
    <span class="na">squares</span><span class="p">:</span> <span class="nx">squares</span><span class="p">,</span>
    <span class="na">xIsNext</span><span class="p">:</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">xIsNext</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">}</span>

</code></pre></div></div>

<h3 id="승자-결정하기">승자 결정하기</h3>

<p>이 사이트에서 제공하는 승자 <code class="language-plaintext highlighter-rouge">calculateWinner</code>를 이용해서 승자를 판별했다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
<span class="kd">const</span> <span class="nx">winner</span> <span class="o">=</span> <span class="nx">calculateWinner</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">status</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">winner</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">status</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Winner: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">winner</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">status</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Next player: </span><span class="dl">'</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">xIsNext</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">X</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">O</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>잘못 클릭하거나 승자가 이미 결정되어 클릭을 무시하려면,</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">handleClick</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
<span class="kd">const</span> <span class="nx">squares</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">calculateWinner</span><span class="p">(</span><span class="nx">squares</span><span class="p">)</span> <span class="o">||</span> <span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
  <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="히스토리-기록하기">히스토리 기록하기</h3>

<p>히스토리를 남겨 두기 위해서 한 번 할 때마다 다음과 같이 상태를 기록해 둘 것이다.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">history</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">squares</span><span class="p">:</span> <span class="p">[</span>
      <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span>
      <span class="kc">null</span><span class="p">,</span> <span class="dl">'</span><span class="s1">X</span><span class="dl">'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span>
      <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="dl">'</span><span class="s1">O</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">]</span>
  <span class="p">},</span>
<span class="p">]</span>
</code></pre></div></div>

<p>이 히스토리는 Game 컴포넌트에 저장한다. Board에 저장해 두었던 state와 승자 계산하는 것들 전부 Game 컴포넌트 쪽으로 옮겨 온다.</p>

<p>Game의 render</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">render</span><span class="p">(){</span>
  <span class="kd">const</span> <span class="nx">history</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">history</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">current</span> <span class="o">=</span> <span class="nx">history</span><span class="p">[</span><span class="nx">history</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
  <span class="kd">const</span> <span class="nx">winner</span> <span class="o">=</span> <span class="nx">calculateWinner</span><span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">squares</span><span class="p">);</span>
  <span class="kd">let</span> <span class="nx">status</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">winner</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">status</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Winner: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">winner</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">status</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Next player: </span><span class="dl">'</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">xIsNext</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">X</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">O</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">game</span><span class="dl">"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">game-board</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Board</span>
        <span class="nx">squares</span><span class="o">=</span><span class="p">{</span><span class="nx">current</span><span class="p">.</span><span class="nx">squares</span><span class="p">}</span>
        <span class="nx">onClick</span><span class="o">=</span><span class="p">{(</span><span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">(</span><span class="nx">i</span><span class="p">)}</span>
      <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">game-info</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">status</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">ol</span><span class="o">&gt;</span><span class="p">{</span><span class="cm">/* TODO */</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/ol</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="object-properties">Object Properties</h3>

<p>프로퍼티 집합을 오브젝트라고 한다. 프로퍼티는 대부분(몇 개 제외하고) 바뀔 수 있다.</p>

<hr />

<table>
  <tbody>
    <tr>
      <td>리액트 엘리먼트 vs. 리액트 컴포넌트?</td>
      <td>corresponding: ~에 상응하는,</td>
    </tr>
  </tbody>
</table>


</div>



<div class="pagination">
  
    <a href="/2022-10-02/reactjs.org" class="left arrow">&#8592;</a>
  
  
    <a href="/2022-09-30/w3school" class="right arrow">&#8594;</a>
  

  <a href="#" class="top">Top</a>
</div>
    </main>

    <footer>
  <span>
    &copy; <time datetime="2023-08-01 23:12:59 +0900">2023</time> Sunmi Moon. Made with Jekyll using the <a href="https://github.com/chesterhow/tale/">Tale</a> theme.
  </span>
</footer>

  </body>
</html>
